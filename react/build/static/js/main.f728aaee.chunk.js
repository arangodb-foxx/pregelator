(this.webpackJsonppregelator=this.webpackJsonppregelator||[]).push([[0],{133:function(e,t,a){e.exports=a(335)},330:function(e,t,a){},334:function(e,t){var a={resultField:"resultField",maxGSS:5,globalAccumulators:{},vertexAccumulators:{rank:{accumulatorType:"sum",valueType:"doubles",storeSender:!1},tmpRank:{accumulatorType:"sum",valueType:"doubles",storeSender:!1}},phases:[{name:"main",initProgram:["seq",["accum-set!","rank",["/",1,["vertex-count"]]],["accum-set!","tmpRank",0],["send-to-all-neighbors","tmpRank",["/",["accum-ref","rank"],["this-number-outbound-edges"]]],!0],updateProgram:["seq",["accum-set!","rank",["+",["/",["-",1,.85],["vertex-count"]],["*",.85,["accum-ref","tmpRank"]]]],["accum-set!","tmpRank",0],["send-to-all-neighbors","tmpRank",["/",["accum-ref","rank"],["this-number-outbound-edges"]]],!0]}]};e.exports.exampleAlgo=a},335:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(11),c=a.n(l),o=a(10),i=a(20),u=a(337),s=a(358),m=a(353),d=a(359),p=a(355),b=a(360),f=a(354),h=a(356),g=a(21),E=(a(154),Object(n.createContext)()),v=function(e){var t=Object(n.useState)({}),a=Object(o.a)(t,2),l=a[0],c=a[1];return r.a.createElement(E.Provider,{value:[l,c]},e.children)},j=function(){return Object(n.useContext)(E)},O=Object(n.createContext)(),x=function(e){var t=Object(n.useState)({}),a=Object(o.a)(t,2),l=a[0],c=a[1];return r.a.createElement(O.Provider,{value:[l,c]},e.children)},k=Object(n.createContext)(),y=function(e){var t=Object(n.useState)([]),a=Object(o.a)(t,2),l=a[0],c=a[1];return Object(n.useEffect)((function(){Object(i.get)("graphs").then((function(e){return c(e.data)}))}),[]),r.a.createElement(k.Provider,{value:[l,c]},e.children)},w=a(36),C=a(361),R=a(362),S=a(357),B=function(e){for(var t=[],a=0,n=Object.entries(e);a<n.length;a++){var r=Object(o.a)(n[a],2)[1];"running"===r.state&&t.push(r)}return t},F=function(e){for(var t=[],a=0,n=Object.entries(e);a<n.length;a++){var r=Object(o.a)(n[a],2)[1];"done"===r.state&&t.push(r)}return t},P=function(){var e=j(),t=Object(o.a)(e,2)[1],a=Object(n.useContext)(O),l=Object(o.a)(a,1)[0];return r.a.createElement("div",null,r.a.createElement(C.a,{level:"3"},"Running (",Object.keys(B(l)).length,")"),r.a.createElement(u.a,null,0===Object.keys(B(l)).length&&r.a.createElement(R.a,null,"No pregel algorithm started yet."),Object.keys(B(l)).length>0&&r.a.createElement(S.a,{columns:[{property:"pid",header:r.a.createElement(R.a,null,"ID"),primary:!0},{property:"percent",header:"Result field",render:function(e){return r.a.createElement(u.a,null,r.a.createElement(R.a,null,e.resultField))}}],data:B(l)})),r.a.createElement(C.a,{level:"3"},"Done (",Object.keys(F(l)).length,")"),r.a.createElement(u.a,null,0===Object.keys(F(l)).length&&r.a.createElement(R.a,null,"No pregel algorithm finished yet."),Object.keys(F(l)).length>0&&r.a.createElement(S.a,{columns:[{property:"pid",header:r.a.createElement(R.a,null,"ID"),primary:!0},{property:"percent",header:"Execution time",render:function(e){return r.a.createElement(u.a,null,r.a.createElement(R.a,null,e.totalRuntime))}}],onClickRow:function(e){var a;a=e.datum,Object(g.b)("Fetching status now of pid: ".concat(a.pid)),Object(i.post)("status",{pid:a.pid},{headers:{"Content-Type":"application/json"}}).then((function(e){e.data&&"done"===e.data.state&&Object(i.post)("resultDetails",{graphName:a.selectedGraph,resultField:a.resultField},{headers:{"Content-Type":"application/json"}}).then((function(n){if(n.data){var r={summary:e.data,preview:n.data};r.summary.pid=a.pid,t((function(e){return Object(w.a)({},r)}))}}))}))},data:F(l)})))},I=a(18),T=function(){var e=Object(n.useContext)(O),t=Object(o.a)(e,1)[0];return r.a.createElement("div",null,r.a.createElement(I.Heading,{level:"4",margin:"none"},"Pregelator"),r.a.createElement(I.Heading,{level:"6",margin:"none"},"Executed algorithms: ",Object.keys(t).length))},D=a(80),N=a.n(D),z=a(127),A=a(38),G=(a(329),a(330),a(81)),W=a.n(G),M=(a(331),a(333),a(334).exampleAlgo),q=function(e){return r.a.createElement(I.Box,Object.assign({direction:"row",align:"center",background:"#272822",pad:{left:"small",right:"small",vertical:"small"},elevation:"medium",style:{zIndex:"1"}},e))},H=r.a.createRef(),J=r.a.createRef();var $=function(){!function(e,t){var a=Object(n.useRef)();Object(n.useEffect)((function(){a.current=e}),[e]),Object(n.useEffect)((function(){if(null!==t){var e=setInterval((function(){a.current()}),t);return function(){return clearInterval(e)}}}),[t])}((function(){!function(e){for(var t=function(){var e=Object(o.a)(n[a],2)[1];"running"===e.state&&Object(i.post)("status",{pid:e.pid},{headers:{"Content-Type":"application/json"}}).then((function(t){t.data&&"done"===t.data.state&&s((function(a){var n=a;return n[e.pid].state=t.data.state,n[e.pid].totalRuntime=t.data.totalRuntime.toFixed(5),Object(w.a)({},n)}))}))},a=0,n=Object.entries(e);a<n.length;a++)t();J.current.jsonEditor.set(d)}(u)}),1e3);var e=function(){var e=Object(z.a)(N.a.mark((function e(){var t,a,n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!("resultField"in(t=H.current.jsonEditor.get()))){e.next=6;break}a=t.resultField,e.next=8;break;case 6:return g.b.error("Attribute resultField is missing!"),e.abrupt("return");case 8:if(f){e.next=11;break}return g.b.error("No SmartGraph selected!"),e.abrupt("return");case 11:return e.next=13,Object(i.post)("start",{name:"AIR",graphName:f,algorithm:t},{headers:{"Content-Type":"application/json"}});case 13:n=e.sent,s((function(e){var t=e;return t[n.data.pid]={pid:n.data.pid,totalRuntime:null,resultField:a,selectedGraph:f,state:"running"},Object(w.a)({},t)})),r="Pregel started, PID: "+n.data.pid,Object(g.b)(r),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(0),g.b.error("Parse error!");case 21:case"end":return e.stop()}var r}),e,null,[[0,18]])})));return function(){return e.apply(this,arguments)}}(),t=Object(n.useContext)(k),a=Object(o.a)(t,1)[0],l=Object(n.useContext)(O),c=Object(o.a)(l,2),u=c[0],s=c[1],m=j(),d=Object(o.a)(m,1)[0],p=Object(n.useState)(null),b=Object(o.a)(p,2),f=b[0],h=b[1];return r.a.createElement(I.Box,{direction:"column",flex:"grow",fill:"horizontal"},r.a.createElement(q,null,r.a.createElement(I.Select,{options:a,placeholder:"Select SmartGraph",value:f,onChange:function(e){var t=e.option;h(t)}}),r.a.createElement(I.Button,{primary:!0,label:"Execute",margin:{left:"small"},onClick:e})),r.a.createElement(I.Box,{direction:"row",fill:"vertical"},r.a.createElement(I.Box,{flex:!0},r.a.createElement(A.a,{ref:H,value:M,navigationBar:!1,mainMenuBar:!1,mode:A.a.modes.code,ace:W.a,theme:"ace/theme/monokai",htmlElementProps:{className:"editorWrapper"}})),r.a.createElement(I.Box,{flex:!0},r.a.createElement(A.a,{ref:J,value:{},navigationBar:!1,mainMenuBar:!1,mode:A.a.modes.code,ace:W.a,theme:"ace/theme/monokai",style:{border:0},htmlElementProps:{className:"editorWrapper"}}))))},K={global:{colors:{brand:"#7D4CDB"},font:{family:"Roboto",size:"18px",height:"20px"}}},L=function(e){return r.a.createElement(u.a,Object.assign({tag:"header",direction:"row",align:"center",justify:"between",background:"brand",pad:{left:"medium",right:"small",vertical:"small"},elevation:"medium",style:{zIndex:"1"}},e))};var Q=function(){var e=Object(n.useState)(!0),t=Object(o.a)(e,2),a=t[0],l=t[1];return r.a.createElement(x,null,r.a.createElement(v,null,r.a.createElement(y,null,r.a.createElement(s.a,{theme:K,full:!0},r.a.createElement(m.a.Consumer,null,(function(e){return r.a.createElement(u.a,{fill:!0},r.a.createElement(L,null,r.a.createElement(T,null),r.a.createElement(d.a,{icon:r.a.createElement(f.a,null),onClick:function(){return l(!a)}})),r.a.createElement(g.a,{position:"bottom-left"}),r.a.createElement(u.a,{direction:"row",flex:!0,overflow:{horizontal:"hidden"}},r.a.createElement(u.a,{flex:!0},r.a.createElement($,null)),a&&"small"===e?r.a.createElement(b.a,null,r.a.createElement(u.a,{background:"light-2",tag:"header",justify:"end",align:"center",direction:"row"},r.a.createElement(d.a,{icon:r.a.createElement(h.a,null),onClick:function(){return l(!1)}})),r.a.createElement(u.a,{fill:!0,background:"light-2",align:"center",justify:"center"},"sidebar")):r.a.createElement(p.a,{direction:"horizontal",open:a},r.a.createElement(u.a,{flex:!0,pad:"small",width:"medium",background:"light-2",elevation:"small"},r.a.createElement(P,null)))))}))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Q,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[133,1,2]]]);
//# sourceMappingURL=main.f728aaee.chunk.js.map